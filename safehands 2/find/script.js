const translations = {
  ar: {
    site_title: "الأيدي الآمنة",
    nav_home: "الرئيسية",
    nav_services: "الخدمات",
    nav_about: "من نحن",
    nav_contact: "تواصل معنا",
    nav_find_babysitters: "ابحث عن جليسات أطفال",
    nav_book_now: "احجز الآن",
    nav_dashboard: " الصفحة الشخصية",
    nav_login_signup: "تسجيل الدخول / إنشاء حساب",
    babysitters_title: "ابحث عن جليسة الأطفال المثالية",
    babysitters_description: "تصفح مجموعتنا من جليسات الأطفال المؤهلات والموثوقات",
    filter_title: "فلترة جليسات الأطفال",
    filter_location: "الموقع",
    filter_location_placeholder: "أدخل عنوانك",
    filter_date: "التاريخ المطلوب",
    filter_price_range: "نطاق السعر ($/ساعة): ",
    filter_age_group: "الفئة العمرية",
    filter_age_group_select: "اختر الفئة العمرية",
    filter_age_infant: "الرضع (0-1 سنة)",
    filter_age_toddler: "الأطفال الصغار (1-3 سنوات)",
    filter_age_preschool: "مرحلة ما قبل المدرسة (3-5 سنوات)",
    filter_age_school: "سن المدرسة (5+ سنوات)",
    filter_age_all: "جميع الأعمار",
    filter_experience: "مستوى الخبرة",
    filter_experience_any: "أي خبرة",
    filter_experience_beginner: "مبتدئ (0-1 سنة)",
    filter_experience_intermediate: "متوسط (1-3 سنوات)",
    filter_experience_expert: "خبير (3+ سنوات)",
    filter_specialties: "التخصصات",
    specialty_infant_care: "رعاية الرضع",
    specialty_special_needs: "الاحتياجات الخاصة",
    specialty_first_aid: "معتمد في الإسعافات الأولية",
    specialty_multilingual: "متعدد اللغات",
    specialty_homework: "مساعدة في الواجبات",
    specialty_arts_crafts: "الفنون والحرف",
    specialty_educational: "أنشطة تعليمية",
    specialty_early_development: "التطور المبكر",
    specialty_music_lessons: "دروس الموسيقى",
    specialty_sports: "رياضة",
    specialty_cooking: "الطبخ",
    apply_filters: "تطبيق الفلاتر",
    book_now: "احجز الآن",
    featured: "مميز",
    babysitter_sarah_name: "سارة جونسون",
    babysitter_sarah_rating: "4.8 (32 تقييمًا)",
    babysitter_sarah_description: "جليسة أطفال ذات خبرة وحاصلة على شهادة في تعليم الطفولة المبكرة. أحب خلق أنشطة تعليمية ممتعة للأطفال من جميع الأعمار.",
    babysitter_sarah_price: "$22/ساعة",
    babysitter_michael_name: "مايكل تشين",
    babysitter_michael_rating: "4.7 (28 تقييمًا)",
    babysitter_michael_description: "طالب جامعي يدرس تعليم الابتدائي. أتخصص في الأنشطة الإبداعية ومساعدة الأطفال في الواجبات المدرسية.",
    babysitter_michael_price: "$18/ساعة",
    babysitter_emma_name: "إيما رودريغيز",
    babysitter_emma_rating: "4.9 (45 تقييمًا)",
    babysitter_emma_description: "معلمة تعليم خاص معتمدة ولديها خبرة في العمل مع الأطفال ذوي الاحتياجات الخاصة مثل التوحد، اضطراب نقص الانتباه، واضطرابات المعالجة الحسية.",
    babysitter_emma_price: "$25/ساعة",
    babysitter_james_name: "جيمس ويلسون",
    babysitter_james_rating: "4.6 (19 تقييمًا)",
    babysitter_james_description: "معلم موسيقى يحب دمج الموسيقى، الحركة، والأنشطة الخارجية في جليسة الأطفال. يمكنني أيضًا تقديم دروس بسيطة في البيانو أو الجيتار.",
    babysitter_james_price: "$20/ساعة",
    babysitter_olivia_name: "أوليفيا باتيل",
    babysitter_olivia_rating: "4.8 (23 تقييمًا)",
    babysitter_olivia_description: "جليسة متعددة اللغات تتحدث الإنجليزية، الإسبانية، والهندية بطلاقة. أحب طهي وجبات صحية مع الأطفال وتعليمهم عن الثقافات المختلفة.",
    babysitter_olivia_price: "$23/ساعة",
    babysitter_noah_name: "نواه تومسون",
    babysitter_noah_rating: "4.5 (15 تقييمًا)",
    babysitter_noah_description: "طالب في تخصص التعليم يتخصص في مساعدة الواجبات والتدريس. أحب أيضًا ممارسة الرياضة والأنشطة الخارجية مع الأطفال.",
    babysitter_noah_price: "$19/ساعة",
    footer_company_title: "الأيدي الآمنة",
    footer_company_description: "احجز جليسات أطفال موثوقة ومُتحقق منها بسهولة وثقة.",
    footer_links_title: "الروابط",
    footer_contact_title: "تواصل معنا",
    footer_contact_email: "البريد الإلكتروني: Safehands.com",
    footer_contact_phone: "رقم الهاتف: 01279581077",
    footer_contact_address: "العنوان: 202 شارع باكوس، الإسكندرية، مصر",
    footer_copyright: "جميع الحقوق محفوظة. 2025 الأيدي الآمنة."
  },
  en: {
    site_title: "Safe Hands",
    nav_home: "Home",
    nav_services: "Services",
    nav_about: "About",
    nav_contact: "Contact",
    nav_find_babysitters: "Find Babysitters",
    nav_book_now: "Book Now",
    nav_dashboard: "My profile",
    nav_login_signup: "Login/Sign Up",
    babysitters_title: "Find Your Perfect Babysitter",
    babysitters_description: "Browse our collection of qualified and trusted babysitters",
    filter_title: "Filter Babysitters",
    filter_location: "Location",
    filter_location_placeholder: "Enter your address",
    filter_date: "Date Needed",
    filter_price_range: "Price Range ($/hour): ",
    filter_age_group: "Age Group",
    filter_age_group_select: "Select age group",
    filter_age_infant: "Infant (0-1 years)",
    filter_age_toddler: "Toddler (1-3 years)",
    filter_age_preschool: "Preschool (3-5 years)",
    filter_age_school: "School Age (5+ years)",
    filter_age_all: "All Ages",
    filter_experience: "Experience Level",
    filter_experience_any: "Any Experience",
    filter_experience_beginner: "Beginner (0-1 years)",
    filter_experience_intermediate: "Intermediate (1-3 years)",
    filter_experience_expert: "Expert (3+ years)",
    filter_specialties: "Specialties",
    specialty_infant_care: "Infant Care",
    specialty_special_needs: "Special Needs",
    specialty_first_aid: "First Aid Certified",
    specialty_multilingual: "Multilingual",
    specialty_homework: "Homework Help",
    specialty_arts_crafts: "Arts & Crafts",
    specialty_educational: "Educational Activities",
    specialty_early_development: "Early Development",
    specialty_music_lessons: "Music Lessons",
    specialty_sports: "Sports",
    specialty_cooking: "Cooking",
    apply_filters: "Apply Filters",
    book_now: "Book Now",
    featured: "Featured",
    babysitter_sarah_name: "Sarah Johnson",
    babysitter_sarah_rating: "4.8 (32 reviews)",
    babysitter_sarah_description: "Experienced babysitter with a degree in Early Childhood Education. I love creating fun, educational activities for kids of all ages.",
    babysitter_sarah_price: "$22/hr",
    babysitter_michael_name: "Michael Chen",
    babysitter_michael_rating: "4.7 (28 reviews)",
    babysitter_michael_description: "College student studying elementary education. I specialize in creative activities and homework help for school-aged children.",
    babysitter_michael_price: "$18/hr",
    babysitter_emma_name: "Emma Rodriguez",
    babysitter_emma_rating: "4.9 (45 reviews)",
    babysitter_emma_description: "Certified special education teacher with experience working with children with various needs including autism, ADHD, and sensory processing disorders.",
    babysitter_emma_price: "$25/hr",
    babysitter_james_name: "James Wilson",
    babysitter_james_rating: "4.6 (19 reviews)",
    babysitter_james_description: "Music teacher who loves to incorporate music, movement, and outdoor activities into babysitting. I can also provide basic piano or guitar lessons.",
    babysitter_james_price: "$20/hr",
    babysitter_olivia_name: "Olivia Patel",
    babysitter_olivia_rating: "4.8 (23 reviews)",
    babysitter_olivia_description: "Multilingual sitter fluent in English, Spanish, and Hindi. I love cooking healthy meals with children and teaching them about different cultures.",
    babysitter_olivia_price: "$23/hr",
    babysitter_noah_name: "Noah Thompson",
    babysitter_noah_rating: "4.5 (15 reviews)",
    babysitter_noah_description: "Education major who specializes in homework help and tutoring. I also love playing sports and outdoor activities with kids.",
    babysitter_noah_price: "$19/hr",
    footer_company_title: "Safe Hands",
    footer_company_description: "Trusted Babysitting, Book reliable, vetted babysitters for your children with ease and confidence.",
    footer_links_title: "Links",
    footer_contact_title: "Contact Us",
    footer_contact_email: "Email: Safehands.com",
    footer_contact_phone: "Phone: 01279581077",
    footer_contact_address: "Address: 202 Bakos Street, Alexandria, Egypt",
    footer_copyright: "All rights reserved. 2025 Safe Hands."
  }
};

function changeLanguage() {
  const lang = document.getElementById('languageSelect').value;
  document.getElementById('htmlLang').setAttribute('lang', lang);
  document.getElementById('htmlLang').setAttribute('dir', lang === 'ar' ? 'rtl' : 'ltr');

  document.querySelectorAll('[data-i18n]').forEach(element => {
    const key = element.getAttribute('data-i18n');
    element.textContent = translations[lang][key];
  });

  document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
    const key = element.getAttribute('data-i18n-placeholder');
    element.placeholder = translations[lang][key];
  });

  localStorage.setItem('language', lang);
}

document.addEventListener('DOMContentLoaded', () => {
  const savedLang = localStorage.getItem('language') || 'ar';
  document.getElementById('languageSelect').value = savedLang;
  changeLanguage();

  const priceMin = document.getElementById('price-min');
  const priceMax = document.getElementById('price-max');
  const priceRangeDisplay = document.getElementById('price-range');
  const applyFiltersBtn = document.getElementById('apply-filters');
  const babysitterList = document.getElementById('babysitter-list');
  const babysitterCards = document.querySelectorAll('.babysitter-card');
  const specialtyCheckboxes = document.querySelectorAll('.specialty-checkbox');

  function updatePriceRange() {
    const min = priceMin.value;
    const max = priceMax.value;
    priceRangeDisplay.textContent = `${min} - ${max}`;
  }

  priceMin.addEventListener('input', () => {
    if (parseInt(priceMin.value) > parseInt(priceMax.value)) {
      priceMin.value = priceMax.value;
    }
    updatePriceRange();
  });

  priceMax.addEventListener('input', () => {
    if (parseInt(priceMax.value) < parseInt(priceMin.value)) {
      priceMax.value = priceMin.value;
    }
    updatePriceRange();
  });

  applyFiltersBtn.addEventListener('click', () => {
    const minPrice = parseInt(priceMin.value);
    const maxPrice = parseInt(priceMax.value);
    const selectedSpecialties = Array.from(specialtyCheckboxes)
      .filter(checkbox => checkbox.checked)
      .map(checkbox => checkbox.value);

    babysitterCards.forEach(card => {
      const hourlyRate = parseInt(card.dataset.hourlyRate);
      const specialties = card.dataset.specialties.split(',');

      const passesPriceFilter = hourlyRate >= minPrice && hourlyRate <= maxPrice;
      const passesSpecialtyFilter = selectedSpecialties.length === 0 ||
        selectedSpecialties.some(specialty => specialties.includes(specialty));

      if (passesPriceFilter && passesSpecialtyFilter) {
        card.style.display = 'block';
      } else {
        card.style.display = 'none';
      }
    });
  });

  updatePriceRange();
});